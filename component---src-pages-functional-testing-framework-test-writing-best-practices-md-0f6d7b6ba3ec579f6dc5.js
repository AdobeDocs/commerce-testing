"use strict";(self.webpackChunkcommerce_testing=self.webpackChunkcommerce_testing||[]).push([[3874],{89449:function(e,t,n){n.r(t),n.d(t,{_frontmatter:function(){return d},default:function(){return c}});var a=n(87462),i=n(45987),o=(n(35776),n(3905)),r=n(91515);const m=["components"],d={},l=(s="InlineAlert",function(e){return console.warn("Component "+s+" was not imported, exported, or provided by MDXProvider as global scope"),(0,o.mdx)("div",e)});var s;const p={_frontmatter:d},u=r.Z;function c(e){let{components:t}=e,n=(0,i.Z)(e,m);return(0,o.mdx)(u,(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,o.mdx)("h1",{id:"best-practices"},"Best practices"),(0,o.mdx)("p",null,"Check out our best practices below to ensure you are getting the absolute most out of the Functional Testing Framework."),(0,o.mdx)("h2",{id:"focus-on-reusability"},"Focus on reusability"),(0,o.mdx)("h3",{id:"use-existing-tests-and-resources"},"Use existing Tests and resources"),(0,o.mdx)("p",null,"Adobe Commerce and Magento Open Source offers more than ",(0,o.mdx)("strong",{parentName:"p"},"3000")," acceptance tests, ",(0,o.mdx)("strong",{parentName:"p"},"2500")," ",(0,o.mdx)("a",{parentName:"p",href:"../test/action-groups.md"},"Action group"),"s, ",(0,o.mdx)("strong",{parentName:"p"},"750")," Page declarations with more than ",(0,o.mdx)("strong",{parentName:"p"},"1500")," Section definitions.\nIt is very probable that behaviour you want to test already exists as a Test or Action Group.\nInstead of writing everything by yourself - use ",(0,o.mdx)("inlineCode",{parentName:"p"},"extends")," attribute to refer to existing element and customize it."),(0,o.mdx)("p",null,(0,o.mdx)("strong",{parentName:"p"},"Reusable Resources")),(0,o.mdx)("ul",null,(0,o.mdx)("li",{parentName:"ul"},"Tests (reusable with ",(0,o.mdx)("inlineCode",{parentName:"li"},'<test extends="...">')," argument)"),(0,o.mdx)("li",{parentName:"ul"},"Action Group (reusable with including ",(0,o.mdx)("inlineCode",{parentName:"li"},'<actionGroup ref="...">'),", or extending ",(0,o.mdx)("inlineCode",{parentName:"li"},'<actionGroup extends="...">'),")"),(0,o.mdx)("li",{parentName:"ul"},"Pages (reusable with reference ",(0,o.mdx)("inlineCode",{parentName:"li"},"{{PageDefinition.url}}"),")"),(0,o.mdx)("li",{parentName:"ul"},"Sections (reusable with reference ",(0,o.mdx)("inlineCode",{parentName:"li"},"{{SectionDefinition.elementDefinition}}"),")"),(0,o.mdx)("li",{parentName:"ul"},"Data Entities (reusable with reference ",(0,o.mdx)("inlineCode",{parentName:"li"},'<createData entity="...">"')," or extending ",(0,o.mdx)("inlineCode",{parentName:"li"},'<entity extends="...">'),")")),(0,o.mdx)(l,{variant:"warning",slots:"text",mdxType:"InlineAlert"}),(0,o.mdx)("p",null,"Avoid using resources that are marked as ",(0,o.mdx)("strong",{parentName:"p"},"Deprecated"),". Usually there is a replacement provided for a deprecated resource."),(0,o.mdx)("h3",{id:"extract-repetitive-actions"},"Extract repetitive Actions"),(0,o.mdx)("p",null,"Instead of writing a few of Tests that perform mostly the same actions, you should thing about ",(0,o.mdx)("a",{parentName:"p",href:"../test/action-groups.md"},"Action group")," that is a container for repetitive Actions.\nIf each run needs different data, use ",(0,o.mdx)("inlineCode",{parentName:"p"},"<arguments>")," to inject necessary information."),(0,o.mdx)("p",null,"We recommend to keep Action Groups having single responsibility, for example ",(0,o.mdx)("inlineCode",{parentName:"p"},"AdminLoginActionGroup"),", which expected outcome is being logged in as Administrator when ",(0,o.mdx)("a",{parentName:"p",href:"../test/action-groups.md"},"Action group")," is executed."),(0,o.mdx)("h2",{id:"contribute"},"Contribute"),(0,o.mdx)("p",null,"Although the Adobe Core team and Contributors join forces to cover most of the features with tests, it is impossible to have this done quickly.\nIf you've covered Adobe Commerce or Magento Open Source Core features with functional testsâ€”you are more than welcome to contribute."),(0,o.mdx)("h2",{id:"action-group"},"Action group"),(0,o.mdx)("ol",null,(0,o.mdx)("li",{parentName:"ol"},(0,o.mdx)("a",{parentName:"li",href:"../test/action-groups.md"},"Action group")," names should be sufficiently descriptive to inform a test writer of what the action group does and when it should be used. Add additional explanation in annotations if needed."),(0,o.mdx)("li",{parentName:"ol"},"Provide default values for the arguments that apply to your most common case scenarios."),(0,o.mdx)("li",{parentName:"ol"},"One ",(0,o.mdx)("inlineCode",{parentName:"li"},"<actionGroup>")," tag is allowed per action group XML file.")),(0,o.mdx)("h2",{id:"actiongroups-vs-extends"},(0,o.mdx)("inlineCode",{parentName:"h2"},"actionGroups")," vs ",(0,o.mdx)("inlineCode",{parentName:"h2"},"extends")),(0,o.mdx)("p",null,"Use an action group to wrap a set of actions to reuse them multiple times."),(0,o.mdx)("p",null,"Use an ",(0,o.mdx)("a",{parentName:"p",href:"../extending.md"},"extension")," when a test or action group needs to be repeated with the exception of a few steps."),(0,o.mdx)("h3",{id:"when-to-use-extends"},"When to use ",(0,o.mdx)("inlineCode",{parentName:"h3"},"extends")),(0,o.mdx)("p",null,"Use ",(0,o.mdx)("inlineCode",{parentName:"p"},"extends")," in your new test or action group when at least one of the following conditions is applicable to your case:"),(0,o.mdx)("ol",null,(0,o.mdx)("li",{parentName:"ol"},"You want to keep the original test without any modifications."),(0,o.mdx)("li",{parentName:"ol"},"You want to create a new test that follows the same path as the original test."),(0,o.mdx)("li",{parentName:"ol"},"You want a new action group that behaves similarly to the existing action group, but you do not want to change the functionality of the original action group.")),(0,o.mdx)("h3",{id:"when-to-avoid-extends"},"When to avoid ",(0,o.mdx)("inlineCode",{parentName:"h3"},"extends")),(0,o.mdx)("p",null,"Do not use ",(0,o.mdx)("inlineCode",{parentName:"p"},"extends")," in the following conditions:"),(0,o.mdx)("ol",null,(0,o.mdx)("li",{parentName:"ol"},"You want to change the functionality of the test or action group and do not need to run the original version."),(0,o.mdx)("li",{parentName:"ol"},"You plan to merge the base test or action group.")),(0,o.mdx)("p",null,"The following pattern is used when merging with ",(0,o.mdx)("inlineCode",{parentName:"p"},"extends"),":"),(0,o.mdx)("ol",null,(0,o.mdx)("li",{parentName:"ol"},"The original test is merged."),(0,o.mdx)("li",{parentName:"ol"},"The extended test is created from the merged original test."),(0,o.mdx)("li",{parentName:"ol"},"The extended test is merged.")),(0,o.mdx)("h2",{id:"annotation"},"Annotation"),(0,o.mdx)("ol",null,(0,o.mdx)("li",{parentName:"ol"},"Use ",(0,o.mdx)("a",{parentName:"li",href:"../test/annotations.md"},"annotations")," in a test."),(0,o.mdx)("li",{parentName:"ol"},"Update your annotations correspondingly when updating tests.")),(0,o.mdx)("h2",{id:"data-entity"},"Data entity"),(0,o.mdx)("ol",null,(0,o.mdx)("li",{parentName:"ol"},"Keep your testing instance clean.\nRemove data after the test if the test required creating any data.\nUse a corresponding ",(0,o.mdx)("a",{parentName:"li",href:"../test/actions.md#deletedata"},(0,o.mdx)("inlineCode",{parentName:"a"},"<deleteData>"))," test step in your ",(0,o.mdx)("a",{parentName:"li",href:"../test/actions.md#before-and-after"},(0,o.mdx)("inlineCode",{parentName:"a"},"<after>"))," block when using a ",(0,o.mdx)("a",{parentName:"li",href:"../test/actions.md#createdata"},(0,o.mdx)("inlineCode",{parentName:"a"},"<createData>"))," action in a ",(0,o.mdx)("a",{parentName:"li",href:"../test/actions.md#before-and-after"},(0,o.mdx)("inlineCode",{parentName:"a"},"<before>"))," block."),(0,o.mdx)("li",{parentName:"ol"},"Make specific data entries under test to be unique.\nEnable data uniqueness where data values are required to be unique in a database by test design.\nUse ",(0,o.mdx)("inlineCode",{parentName:"li"},'unique="suffix"')," or ",(0,o.mdx)("inlineCode",{parentName:"li"},'unique="prefix"')," to append or prepend a unique value to the ",(0,o.mdx)("a",{parentName:"li",href:"../data.md"},"entity")," attribute.\nThis ensures that tests using the entity can be repeated."),(0,o.mdx)("li",{parentName:"ol"},"Do not modify existing data entity fields or merge additional data fields without complete understanding and verifying the usage of existing data in tests.\nCreate a new data entity for your test if you are not sure.")),(0,o.mdx)("h2",{id:"naming-conventions"},"Naming conventions"),(0,o.mdx)("h3",{id:"file-names"},"File names"),(0,o.mdx)("p",null,"Name files according to the following patterns to make searching in future more easy:"),(0,o.mdx)("h4",{id:"test-file-name"},"Test file name"),(0,o.mdx)("p",null,"Format: {",(0,o.mdx)("em",{parentName:"p"},"Admin")," or ",(0,o.mdx)("em",{parentName:"p"},"Storefront"),"}{Functionality}",(0,o.mdx)("em",{parentName:"p"},"Test.xml"),", where Functionality briefly describes the testing functionality."),(0,o.mdx)("p",null,"Example: ",(0,o.mdx)("em",{parentName:"p"},"StorefrontCreateCustomerTest.xml"),"."),(0,o.mdx)("h4",{id:"action-group-file-name"},"Action Group file name"),(0,o.mdx)("p",null,"Format: {",(0,o.mdx)("em",{parentName:"p"},"Admin")," or ",(0,o.mdx)("em",{parentName:"p"},"Storefront"),"}{Action Group Summary}ActionGroup.xml`, where Action Group Summary is a short description of what the action group does."),(0,o.mdx)("p",null,"Example: ",(0,o.mdx)("em",{parentName:"p"},"AdminCreateStoreActionGroup.xml")),(0,o.mdx)("h4",{id:"section-file-name"},"Section file name"),(0,o.mdx)("p",null,"Format: {",(0,o.mdx)("em",{parentName:"p"},"Admin")," or ",(0,o.mdx)("em",{parentName:"p"},"Storefront"),"}{UI Description}",(0,o.mdx)("em",{parentName:"p"},"Section.xml"),", where UI Description briefly describes the testing UI."),(0,o.mdx)("p",null,"Example: ",(0,o.mdx)("em",{parentName:"p"},"AdminNavbarSection.xml"),"."),(0,o.mdx)("h4",{id:"data-file-name"},"Data file name"),(0,o.mdx)("p",null,"Format: {Type}",(0,o.mdx)("em",{parentName:"p"},"Data.xml"),", where Type represents the entity type."),(0,o.mdx)("p",null,"Example: ",(0,o.mdx)("em",{parentName:"p"},"ProductData.xml"),"."),(0,o.mdx)("h3",{id:"object-names"},"Object names"),(0,o.mdx)("p",null,"Use the ",(0,o.mdx)("em",{parentName:"p"},"Foo.camelCase")," naming convention, which is similar to ",(0,o.mdx)("em",{parentName:"p"},"Classes")," and ",(0,o.mdx)("em",{parentName:"p"},"classProperties")," in PHP."),(0,o.mdx)("h4",{id:"upper-case"},"Upper case"),(0,o.mdx)("p",null,"Use an upper case first letter for:"),(0,o.mdx)("ul",null,(0,o.mdx)("li",{parentName:"ul"},"File names. Example: ",(0,o.mdx)("em",{parentName:"li"},"StorefrontCreateCustomerTest.xml")),(0,o.mdx)("li",{parentName:"ul"},"Test name attributes. Example: ",(0,o.mdx)("inlineCode",{parentName:"li"},'<test name="TestAllTheThingsTest">')),(0,o.mdx)("li",{parentName:"ul"},"Data entity names. Example: ",(0,o.mdx)("inlineCode",{parentName:"li"},'<entity name="OutOfStockProduct">')),(0,o.mdx)("li",{parentName:"ul"},"Page name. Example: ",(0,o.mdx)("inlineCode",{parentName:"li"},'<page name="AdminLoginPage">')),(0,o.mdx)("li",{parentName:"ul"},"Section name. Example: ",(0,o.mdx)("inlineCode",{parentName:"li"},'<section name="AdminCategorySidebarActionSection">')),(0,o.mdx)("li",{parentName:"ul"},"Action group name. Example: ",(0,o.mdx)("inlineCode",{parentName:"li"},'<actionGroup name="LoginToAdminActionGroup">'))),(0,o.mdx)("h4",{id:"lower-case"},"Lower case"),(0,o.mdx)("p",null,"Use a lower case first letter for:"),(0,o.mdx)("ul",null,(0,o.mdx)("li",{parentName:"ul"},"Data keys. Example: ",(0,o.mdx)("inlineCode",{parentName:"li"},'<data key="firstName">')),(0,o.mdx)("li",{parentName:"ul"},"Element names. Examples: ",(0,o.mdx)("inlineCode",{parentName:"li"},'<element name="confirmDeleteButton"/>')),(0,o.mdx)("li",{parentName:"ul"},"Step keys. For example: ",(0,o.mdx)("inlineCode",{parentName:"li"},'<click selector="..." stepKey="clickLogin"/>'))),(0,o.mdx)("h2",{id:"page-object"},"Page object"),(0,o.mdx)("ol",null,(0,o.mdx)("li",{parentName:"ol"},"One ",(0,o.mdx)("inlineCode",{parentName:"li"},"<page>")," tag is allowed per page XML file."),(0,o.mdx)("li",{parentName:"ol"},"Use ",(0,o.mdx)("a",{parentName:"li",href:"../section/parameterized-selectors.md"},"parameterized selectors")," for constructing a selector when test-specific or runtime-generated information is needed.\nDo not use them for static elements.")),(0,o.mdx)("span",{className:"color:red"},"BAD:"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-xml"},'<element name="relatedProductSectionText" type="text" selector=".fieldset-wrapper.admin__fieldset-section[data-index=\'{{productType}}\']" parameterized="true"/>\n')),(0,o.mdx)("span",{className:"color:green"},"GOOD:"),(0,o.mdx)("p",null,"Define these three elements and reference them by name in the tests."),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-xml"},'<element name="relatedProductSectionText" type="text" selector=".fieldset-wrapper.admin__fieldset-section[data-index=\'related\']"/>\n<element name="upSellProductSectionText" type="text" selector=".fieldset-wrapper.admin__fieldset-section[data-index=\'upsell\']"/>\n<element name="crossSellProductSectionText" type="text" selector=".fieldset-wrapper.admin__fieldset-section[data-index=\'crosssell\']"/>\n')),(0,o.mdx)("h2",{id:"test"},"Test"),(0,o.mdx)("ol",null,(0,o.mdx)("li",{parentName:"ol"},"Use actions such as ",(0,o.mdx)("a",{parentName:"li",href:"../test/actions.md#waitforelementvisible"},(0,o.mdx)("inlineCode",{parentName:"a"},"<waitForElementVisible>")),", ",(0,o.mdx)("a",{parentName:"li",href:"../test/actions.md#waitforloadingmasktodisappear"},(0,o.mdx)("inlineCode",{parentName:"a"},"<waitForLoadingMaskToDisappear>")),", and ",(0,o.mdx)("a",{parentName:"li",href:"../test/actions.md#waitforelement"},(0,o.mdx)("inlineCode",{parentName:"a"},"<waitForElement>"))," to wait the exact time required for the test step.\nTry to avoid using the ",(0,o.mdx)("a",{parentName:"li",href:"../test/actions.md#wait"},(0,o.mdx)("inlineCode",{parentName:"a"},"<wait>"))," action, because it forces the test to wait for the time you specify. You may not need to wait so long to proceed."),(0,o.mdx)("li",{parentName:"ol"},"Keep your tests short and granular for target testing, easier reviews, and easier merge conflict resolution.\nIt also helps you to identify the cause of test failure."),(0,o.mdx)("li",{parentName:"ol"},"Use comments to keep tests readable and maintainable:",(0,o.mdx)("ul",{parentName:"li"},(0,o.mdx)("li",{parentName:"ul"},"Keep the inline ",(0,o.mdx)("inlineCode",{parentName:"li"},"\x3c!-- XML comments --\x3e")," and ",(0,o.mdx)("a",{parentName:"li",href:"../test/actions.md#comment"},(0,o.mdx)("inlineCode",{parentName:"a"},"<comment>"))," tags up to date.\nIt helps to inform the reader of what you are testing and to yield a more descriptive Allure report."),(0,o.mdx)("li",{parentName:"ul"},"Explain in comments unclear or tricky test steps."))),(0,o.mdx)("li",{parentName:"ol"},"Refer to ",(0,o.mdx)("a",{parentName:"li",href:"../section/index.md"},"sections")," instead of writing selectors."),(0,o.mdx)("li",{parentName:"ol"},"One ",(0,o.mdx)("inlineCode",{parentName:"li"},"<test>")," tag is allowed per test XML file.")),(0,o.mdx)("h2",{id:"test-step-merging-order"},"Test step merging order"),(0,o.mdx)("p",null,"When setting a ",(0,o.mdx)("a",{parentName:"p",href:"../merging.md"},"merging")," order for a test step, do not depend on steps from Adobe Commerce or Magento Open Source modules that could be disabled by an application."),(0,o.mdx)("p",null,"For example, when you write a test step to create a gift card product, set your test step ",(0,o.mdx)("strong",{parentName:"p"},"after")," simple product creation and let the framework handle the merge order.\nSince the configurable product module could be disabled, this approach is more reliable than setting the test step ",(0,o.mdx)("strong",{parentName:"p"},"before")," creating a configurable product."))}c.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-functional-testing-framework-test-writing-best-practices-md-0f6d7b6ba3ec579f6dc5.js.map