"use strict";(self.webpackChunkcommerce_testing=self.webpackChunkcommerce_testing||[]).push([[3957],{76403:function(e,n,t){t.r(n),t.d(n,{_frontmatter:function(){return u},default:function(){return c}});var r=t(58168),o=t(80045),a=(t(88763),t(15680)),s=t(83407);const m=["components"],u={},p=(d="InlineAlert",function(e){return console.warn("Component "+d+" was not imported, exported, or provided by MDXProvider as global scope"),(0,a.mdx)("div",e)});var d;const i={_frontmatter:u},l=s.A;function c(e){let{components:n}=e,t=(0,o.A)(e,m);return(0,a.mdx)(l,(0,r.A)({},i,t,{components:n,mdxType:"MDXLayout"}),(0,a.mdx)("h1",{id:"dependency-annotation"},"Dependency annotation"),(0,a.mdx)("p",null,"The ",(0,a.mdx)("inlineCode",{parentName:"p"},"@depends")," annotation helps you to define some dependencies between methods."),(0,a.mdx)("h2",{id:"format"},"Format"),(0,a.mdx)("pre",null,(0,a.mdx)("code",{parentName:"pre",className:"language-php"},"/**\n * @depends methodName\n */\n")),(0,a.mdx)(p,{variant:"warning",slots:"text",mdxType:"InlineAlert"}),(0,a.mdx)("p",null,"Please note that dependencies don't define the order in which the test methods are executed, so you still have to keep to proper order for your methods."),(0,a.mdx)("h3",{id:"example-1"},"Example 1"),(0,a.mdx)("p",null,"Let's check the following basic example."),(0,a.mdx)("pre",null,(0,a.mdx)("code",{parentName:"pre",className:"language-php"},"/**\n * @return int\n */\npublic function testOne(): int\n{\n    $number = 2;\n    $this->assertEquals(2, $number);\n\n    return $number;\n}\n\n/**\n * @depends testOne\n *\n * @param $number\n */\npublic function testNumber($number)\n{\n    $this->assertEquals(2, $number);\n}\n")),(0,a.mdx)("h3",{id:"example-2"},"Example 2"),(0,a.mdx)(p,{variant:"info",slots:"text",mdxType:"InlineAlert"}),(0,a.mdx)("p",null,"If using multiple dependencies, arguments are passed in the annotations' defined order."),(0,a.mdx)("pre",null,(0,a.mdx)("code",{parentName:"pre",className:"language-php"},"/**\n * @return int\n */\npublic function testTwo(): int\n{\n    $number = 2;\n    $this->assertEquals(2, $number);\n\n    return $number;\n}\n\n/**\n * @return int\n */\npublic function testOne(): int\n{\n    $number = 1;\n    $this->assertEquals(1, $number);\n\n    return $number;\n}\n\n/**\n * @depends testOne\n * @depends testTwo\n *\n * @param $one\n * @param $two\n */\npublic function testNumber(int $one, int $two)\n{\n    $this->assertEquals(1, $one);\n    $this->assertEquals(2, $two);\n}\n")),(0,a.mdx)("h3",{id:"example-3"},"Example 3"),(0,a.mdx)("p",null,"Let's check the following practical example, where we'll be checking the customer email by customer ID."),(0,a.mdx)("pre",null,(0,a.mdx)("code",{parentName:"pre",className:"language-php"},"use Magento\\Customer\\Api\\CustomerRepositoryInterface;\nuse Magento\\Customer\\Api\\Data\\CustomerInterface;\nuse Magento\\TestFramework\\Helper\\Bootstrap;\n...\n\n/**\n * @magentoDataFixture Magento/Customer/_files/customer.php\n */\npublic function testLoadCustomer(): CustomerInterface\n{\n    $customerId = 1;\n    $objectManager = Bootstrap::getObjectManager();\n    $customerRepository = $objectManager->create(CustomerRepositoryInterface::class);\n\n    return $customerRepository->getById($customerId);\n}\n\n/**\n * @depends testLoadCustomer\n *\n * @param CustomerInterface $customer\n */\npublic function testEmail(CustomerInterface $customer)\n{\n    $this->assertEquals('customer@example.com', $customer->getEmail());\n}\n")),(0,a.mdx)("p",null,"You can read more about PHPUnit dependency annotation ",(0,a.mdx)("a",{parentName:"p",href:"https://docs.phpunit.de/en/9.6/annotations.html#depends"},"here"),"."))}c.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-guide-integration-annotations-magento-depends-md-19d4cd4c49d6aad8ab14.js.map